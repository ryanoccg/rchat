import{q as J,a9 as K,r as p,o as Q,b as v,e as s,f as X,h as g,g as i,B as A,i as l,j as m,A as Z,F as ee,k as te,w as I,aa as se,z as f,m as u,n as h,t as w}from"./app-BgQ0ba_x.js";import{s as ae}from"./index-hpZWgBgc.js";import{s as le}from"./index-O1aibNdm.js";import{s as D}from"./index-iiizaaRQ.js";import{s as z}from"./index-NI41lIvu.js";import{s as ie}from"./index-BWK8tbLp.js";import{s as U}from"./index-CWWB2MDf.js";import{s as oe}from"./index-BWP7Siyo.js";import{s as F}from"./index-DBwqtjYl.js";import{s as V}from"./index-Dp3m66c3.js";import{s as re}from"./index-L6cl8ov8.js";import{_ as ne}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./index-DHYItjgp.js";const de={class:"space-y-6"},ue={class:"flex items-center justify-between"},ce={class:"flex items-center gap-2"},pe={key:0,class:"flex items-center justify-center py-20"},me={class:"text-center"},fe={key:1,class:"text-center py-12"},ve={key:2,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},ye={class:"space-y-4"},ge={class:"flex items-start justify-between"},xe={class:"flex items-center gap-3"},be={class:"font-semibold text-surface-900 dark:text-surface-100"},he={class:"text-xs text-surface-500"},we={class:"flex items-center gap-1"},_e={key:0,class:"text-sm text-surface-600 dark:text-surface-400 line-clamp-2"},ke={class:"flex flex-wrap gap-2"},Ae={class:"flex items-center justify-between pt-3 border-t border-surface-200 dark:border-surface-700"},Ie={class:"flex items-center gap-2"},Ve={class:"text-sm text-surface-500"},$e={class:"space-y-4"},Ce={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Pe={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},De={class:"flex items-center justify-between pt-2"},ze={__name:"Index",setup(Ue){const d=J(),B=K(),x=p(!1),_=p(!1),b=p(!1),y=p(!1),c=p(null),r=p([]),$=p([]),o=p({name:"",agent_type:"general",description:"",model:"gpt-4o-mini",system_prompt:"",personality_tone:"professional",max_tokens:300,temperature:.7,confidence_threshold:.7,is_active:!0,is_personality_only:!0}),S=["professional","friendly","casual","formal","empathetic","enthusiastic","warm","sophisticated"],j=async()=>{x.value=!0;try{const a=await f.get("/api/ai-agents");r.value=a.data.data}catch{d.add({severity:"error",summary:"Error",detail:"Failed to load AI agents",life:5e3})}finally{x.value=!1}},E=async()=>{try{const a=await f.get("/api/ai-agents/types");$.value=a.data.data}catch(a){console.error("Failed to load agent types:",a)}},C=async()=>{var a,e;b.value=!0;try{const t=await f.post("/api/ai-agents/initialize-defaults");r.value=t.data.data,d.add({severity:"success",summary:"Success",detail:"Default AI personalities initialized successfully",life:3e3})}catch(t){d.add({severity:"error",summary:"Error",detail:((e=(a=t.response)==null?void 0:a.data)==null?void 0:e.message)||"Failed to initialize default personalities",life:5e3})}finally{b.value=!1}},N=a=>{c.value=a,o.value={name:a.name,agent_type:a.agent_type,description:a.description||"",model:a.model,system_prompt:a.system_prompt||"",personality_tone:a.personality_tone||"professional",max_tokens:a.max_tokens,temperature:a.temperature,confidence_threshold:a.confidence_threshold,is_active:a.is_active,is_personality_only:!0},y.value=!0},T=async a=>{try{const e=await f.post(`/api/ai-agents/${a.id}/duplicate`);r.value.push(e.data.data),d.add({severity:"success",summary:"Success",detail:"Personality duplicated successfully",life:3e3})}catch{d.add({severity:"error",summary:"Error",detail:"Failed to duplicate personality",life:5e3})}},Y=a=>{B.require({message:`Are you sure you want to delete "${a.name}"?`,header:"Delete Personality",icon:"pi pi-exclamation-triangle",acceptClass:"p-button-danger",accept:()=>L(a)})},L=async a=>{try{await f.delete(`/api/ai-agents/${a.id}`),r.value=r.value.filter(e=>e.id!==a.id),d.add({severity:"success",summary:"Deleted",detail:"Personality deleted successfully",life:3e3})}catch{d.add({severity:"error",summary:"Error",detail:"Failed to delete personality",life:5e3})}},q=async a=>{try{const e=await f.put(`/api/ai-agents/${a.id}`,{is_active:!a.is_active}),t=r.value.findIndex(n=>n.id===a.id);t!==-1&&(r.value[t]=e.data.data)}catch{d.add({severity:"error",summary:"Error",detail:"Failed to update personality status",life:5e3})}},M=async()=>{var e,t;_.value=!0;const a={...o.value,is_personality_only:!0,trigger_conditions:null};try{if(c.value){const n=await f.put(`/api/ai-agents/${c.value.id}`,a),P=r.value.findIndex(G=>G.id===c.value.id);P!==-1&&(r.value[P]=n.data.data)}else{const n=await f.post("/api/ai-agents",a);r.value.push(n.data.data)}k(),d.add({severity:"success",summary:"Success",detail:c.value?"Personality updated successfully":"Personality created successfully",life:3e3})}catch(n){d.add({severity:"error",summary:"Error",detail:((t=(e=n.response)==null?void 0:e.data)==null?void 0:t.message)||"Failed to save personality",life:5e3})}finally{_.value=!1}},k=()=>{c.value=null,o.value={name:"",agent_type:"general",description:"",model:"gpt-4o-mini",system_prompt:"",personality_tone:"professional",max_tokens:300,temperature:.7,confidence_threshold:.7,is_active:!0,is_personality_only:!0},y.value=!1},W=a=>({new_customer:"pi pi-user-plus",returning_customer:"pi pi-refresh",follow_up:"pi pi-clock",vip:"pi pi-star",general:"pi pi-users",custom:"pi pi-cog"})[a]||"pi pi-robot",H=a=>({new_customer:"bg-green-500",returning_customer:"bg-blue-500",follow_up:"bg-orange-500",vip:"bg-yellow-500",general:"bg-gray-500",custom:"bg-purple-500"})[a]||"bg-surface-500",O=a=>{var e;return((e=$.value.find(t=>t.value===a))==null?void 0:e.label)||a},R=a=>({new_customer:"You are welcoming a new customer for the first time. Be extra warm and friendly. Introduce your company briefly and ask how you can help them today.",returning_customer:"You are helping a returning customer. Acknowledge them warmly and reference previous interactions if appropriate.",follow_up:"You are following up with a customer who hasn't been in touch for a while. Reach out warmly and check if they need any help.",vip:"You are assisting a VIP customer. Provide exceptional, personalized service. Be proactive in anticipating their needs.",general:"You are a helpful customer service assistant.",custom:"Define how this AI agent should behave..."})[a]||"Define how this AI agent should behave...";return Q(async()=>{await Promise.all([j(),E()])}),(a,e)=>(u(),v("div",de,[s("div",ue,[e[9]||(e[9]=s("div",null,[s("h1",{class:"text-2xl font-bold text-surface-900 dark:text-surface-100"},"AI Personalities"),s("p",{class:"text-surface-500 mt-1"},"Define different AI personalities for your workflows")],-1)),s("div",ce,[r.value.length===0?(u(),A(l(m),{key:0,label:"Initialize Default Personalities",icon:"pi pi-refresh",loading:b.value,onClick:C},null,8,["loading"])):g("",!0),i(l(m),{label:"Create New Personality",icon:"pi pi-plus",onClick:e[0]||(e[0]=t=>y.value=!0)})])]),e[26]||(e[26]=X('<div class="bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4" data-v-6ad51ced><div class="flex items-start gap-3" data-v-6ad51ced><i class="pi pi-info-circle text-blue-500 mt-0.5" data-v-6ad51ced></i><div data-v-6ad51ced><p class="text-sm text-blue-700 dark:text-blue-300" data-v-6ad51ced> AI Personalities define how your AI assistant behaves. Use <a href="/workflows" class="font-medium underline" data-v-6ad51ced>Workflows</a> to control when each personality is used based on customer context. </p></div></div></div>',1)),x.value?(u(),v("div",pe,[s("div",me,[i(l(Z),{style:{width:"50px",height:"50px"}}),e[10]||(e[10]=s("p",{class:"mt-3 text-surface-500 text-sm"},"Loading AI personalities...",-1))])])):r.value.length===0?(u(),v("div",fe,[e[11]||(e[11]=s("div",{class:"w-24 h-24 mx-auto mb-6 rounded-full bg-surface-100 dark:bg-surface-700 flex items-center justify-center"},[s("i",{class:"pi pi-robot text-4xl text-surface-400"})],-1)),e[12]||(e[12]=s("h3",{class:"text-xl font-semibold text-surface-900 dark:text-surface-100 mb-2"},"No AI Personalities Yet",-1)),e[13]||(e[13]=s("p",{class:"text-surface-500 mb-6 max-w-md mx-auto"}," Create different AI personalities with unique tones and behaviors. Then use Workflows to route customers to the right personality. ",-1)),i(l(m),{label:"Initialize Default Personalities",icon:"pi pi-refresh",loading:b.value,onClick:C},null,8,["loading"])])):g("",!0),!x.value&&r.value.length>0?(u(),v("div",ve,[(u(!0),v(ee,null,te(r.value,t=>(u(),A(l(ae),{key:t.id,class:h([{"opacity-60":!t.is_active},"relative"])},{content:I(()=>[s("div",ye,[s("div",ge,[s("div",xe,[s("div",{class:h(["w-12 h-12 rounded-full flex items-center justify-center",H(t.agent_type)])},[s("i",{class:h([W(t.agent_type),"text-xl text-white"])},null,2)],2),s("div",null,[s("h3",be,w(t.name),1),s("p",he,w(O(t.agent_type)),1)])]),s("div",we,[i(l(m),{icon:"pi pi-pencil",size:"small",text:"",rounded:"",onClick:n=>N(t)},null,8,["onClick"]),i(l(m),{icon:"pi pi-copy",size:"small",text:"",rounded:"",onClick:n=>T(t)},null,8,["onClick"]),i(l(m),{icon:"pi pi-trash",size:"small",text:"",rounded:"",severity:"danger",onClick:n=>Y(t)},null,8,["onClick"])])]),t.description?(u(),v("p",_e,w(t.description),1)):g("",!0),s("div",ke,[i(l(V),{value:`Temp: ${t.temperature}`,severity:"secondary"},null,8,["value"]),i(l(V),{value:`${t.max_tokens} tokens`,severity:"secondary"},null,8,["value"]),t.personality_tone?(u(),A(l(V),{key:0,value:t.personality_tone,severity:"info"},null,8,["value"])):g("",!0)]),s("div",Ae,[s("div",Ie,[s("span",{class:h(["w-2 h-2 rounded-full",t.is_active?"bg-green-500":"bg-surface-400"])},null,2),s("span",Ve,w(t.is_active?"Active":"Inactive"),1)]),i(l(U),{"model-value":t.is_active,"onUpdate:modelValue":n=>q(t)},null,8,["model-value","onUpdate:modelValue"])])])]),_:2},1032,["class"]))),128))])):g("",!0),i(l(oe),{visible:y.value,"onUpdate:visible":e[8]||(e[8]=t=>y.value=t),header:c.value?"Edit AI Personality":"Create New AI Personality",modal:"",style:{width:"650px"},onHide:k},{footer:I(()=>[i(l(m),{label:"Cancel",severity:"secondary",outlined:"",onClick:k}),i(l(m),{label:c.value?"Update Personality":"Create Personality",icon:"pi pi-check",loading:_.value,onClick:M},null,8,["label","loading"])]),default:I(()=>[s("div",$e,[s("div",Ce,[s("div",null,[e[14]||(e[14]=s("label",{class:"block text-sm font-medium mb-1"},"Personality Name *",-1)),i(l(le),{modelValue:o.value.name,"onUpdate:modelValue":e[1]||(e[1]=t=>o.value.name=t),placeholder:"e.g., Welcome Agent",class:"w-full"},null,8,["modelValue"])]),s("div",null,[e[15]||(e[15]=s("label",{class:"block text-sm font-medium mb-1"},"Personality Tone",-1)),i(l(ie),{modelValue:o.value.personality_tone,"onUpdate:modelValue":e[2]||(e[2]=t=>o.value.personality_tone=t),options:S,placeholder:"Select tone",class:"w-full"},null,8,["modelValue"])])]),s("div",null,[e[16]||(e[16]=s("label",{class:"block text-sm font-medium mb-1"},"Description",-1)),i(l(z),{modelValue:o.value.description,"onUpdate:modelValue":e[3]||(e[3]=t=>o.value.description=t),rows:"2",placeholder:"Briefly describe this personality's purpose...",class:"w-full"},null,8,["modelValue"])]),i(l(F)),e[24]||(e[24]=s("h3",{class:"font-semibold"},"Behavior & Instructions",-1)),s("div",null,[e[17]||(e[17]=s("label",{class:"block text-sm font-medium mb-1"},"System Prompt *",-1)),i(l(z),{modelValue:o.value.system_prompt,"onUpdate:modelValue":e[4]||(e[4]=t=>o.value.system_prompt=t),rows:"5",placeholder:R(o.value.agent_type),class:"w-full"},null,8,["modelValue","placeholder"]),e[18]||(e[18]=s("p",{class:"text-xs text-surface-400 mt-1"}," Instructions that define this personality's behavior, tone, and role. Be specific about how the AI should interact with customers. ",-1))]),i(l(F)),e[25]||(e[25]=s("h3",{class:"font-semibold"},"AI Settings",-1)),s("div",Pe,[s("div",null,[e[19]||(e[19]=s("label",{class:"block text-sm font-medium mb-1"},"Max Tokens",-1)),i(l(D),{modelValue:o.value.max_tokens,"onUpdate:modelValue":e[5]||(e[5]=t=>o.value.max_tokens=t),min:100,max:4096,class:"w-full"},null,8,["modelValue"]),e[20]||(e[20]=s("small",{class:"text-surface-400"},"Maximum length of AI responses",-1))]),s("div",null,[e[21]||(e[21]=s("label",{class:"block text-sm font-medium mb-1"},"Temperature",-1)),i(l(D),{modelValue:o.value.temperature,"onUpdate:modelValue":e[6]||(e[6]=t=>o.value.temperature=t),min:0,max:2,step:.1,maxFractionDigits:1,class:"w-full"},null,8,["modelValue"]),e[22]||(e[22]=s("small",{class:"text-surface-400"},"Higher = more creative, Lower = more consistent",-1))])]),s("div",De,[e[23]||(e[23]=s("span",{class:"text-sm text-surface-600 dark:text-surface-400"},"Active",-1)),i(l(U),{modelValue:o.value.is_active,"onUpdate:modelValue":e[7]||(e[7]=t=>o.value.is_active=t)},null,8,["modelValue"])])])]),_:1},8,["visible","header"]),i(l(re)),i(l(se))]))}},Oe=ne(ze,[["__scopeId","data-v-6ad51ced"]]);export{Oe as default};
